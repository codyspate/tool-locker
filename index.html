<!DOCTYPE html>
<html lang="en" id="oranda" class="hacker">
  <head>
    <title>tlk</title>
    
    
      <link rel="icon" href="/tool-locker/favicon.ico" />
    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="tlk" />
    
    
    
    <meta http-equiv="Permissions-Policy" content="interest-cohort=()" />
    <link rel="stylesheet" href="/tool-locker/oranda-v0.6.1.css" />
    
    
  </head>
  <body>
    <div class="container">
      <div class="page-body">
        
          <div class="repo_banner">
            <a href="https://github.com/codyspate/tool-locker">
              <div class="github-icon" aria-hidden="true"></div>
              Check out our GitHub!
            </a>
          </div>
        

        <main>
          <header>
            
            <h1 class="title">tlk</h1>
            
  <nav class="nav">
    <ul>
      <li><a href="/tool-locker/">Home</a></li>

      

      
        <li><a href="/tool-locker/artifacts/">Install</a></li>
      

      

      

      
        <li><a href="/tool-locker/changelog/">Changelog</a></li>
      
    </ul>
  </nav>

          </header>

          

    



<div class="artifacts" data-tag="v0.1.6">
  <div class="artifact-header target">
    <h4>Install v0.1.6</h4>
    
      <div><small class="published-date">Published on Aug 15 2025 at 15:39 UTC</small></div>
    

    <ul class="arches">
      
        <li class="arch hidden" data-arch="aarch64-apple-darwin">
          
            <ul class="tabs">
              
                
                
                <li class="install-tab" data-id="7" data-triple="aarch64-apple-darwin">
                  shell

                  
                </li>
              
                
                
                <li class="install-tab" data-id="0" data-triple="aarch64-apple-darwin">
                  tarball

                  
                </li>
              
            </ul>
          

          <ul class="contents">
            
              
              <li data-id="7" data-triple="aarch64-apple-darwin" class="install-content">
                
                  
                  <div class="install-code-wrapper">
  <pre style="background-color:#263238;">
<span style="color:#82aaff;">curl</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">proto </span><span style="color:#89ddff;">&#39;</span><span style="color:#c3e88d;">=https</span><span style="color:#89ddff;">&#39; --</span><span style="color:#f78c6c;">tlsv1</span><span style="color:#82aaff;">.2</span><span style="color:#89ddff;"> -</span><span style="color:#f78c6c;">LsSf</span><span style="color:#82aaff;"> https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh </span><span style="color:#89ddff;">| </span><span style="color:#82aaff;">sh</span></pre>

  <button class="button copy-clipboard-button primary" data-copy="curl --proto '=https' --tlsv1.2 -LsSf https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh | sh">
    <svg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 20 20' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'><path d='M8 2a1 1 0 000 2h2a1 1 0 100-2H8z'></path><path d='M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z'></path></svg>
  </button>
  
  
    
    
      
    
    <a class="button primary" href="/tool-locker/tlk-installer.sh.txt">Source</a>
  
</div>
                

                
              </li>
            
              
              <li data-id="0" data-triple="aarch64-apple-darwin" class="install-content hidden">
                

                
                  
                  <div class="download-wrapper">
                    <a href="https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-aarch64-apple-darwin.tar.xz">
                      <button class="button primary">
                        <span>Download</span>
                        <span class="button-subtitle">tlk-aarch64-apple-darwin.tar.xz</span>
                      </button>
                    </a>
                  </div>
                
              </li>
            
          </ul>
        </li>
      
        <li class="arch hidden" data-arch="aarch64-unknown-linux-gnu">
          
            <ul class="tabs">
              
                
                
                <li class="install-tab" data-id="7" data-triple="aarch64-unknown-linux-gnu">
                  shell

                  
                </li>
              
                
                
                <li class="install-tab" data-id="1" data-triple="aarch64-unknown-linux-gnu">
                  tarball

                  
                </li>
              
            </ul>
          

          <ul class="contents">
            
              
              <li data-id="7" data-triple="aarch64-unknown-linux-gnu" class="install-content">
                
                  
                  <div class="install-code-wrapper">
  <pre style="background-color:#263238;">
<span style="color:#82aaff;">curl</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">proto </span><span style="color:#89ddff;">&#39;</span><span style="color:#c3e88d;">=https</span><span style="color:#89ddff;">&#39; --</span><span style="color:#f78c6c;">tlsv1</span><span style="color:#82aaff;">.2</span><span style="color:#89ddff;"> -</span><span style="color:#f78c6c;">LsSf</span><span style="color:#82aaff;"> https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh </span><span style="color:#89ddff;">| </span><span style="color:#82aaff;">sh</span></pre>

  <button class="button copy-clipboard-button primary" data-copy="curl --proto '=https' --tlsv1.2 -LsSf https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh | sh">
    <svg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 20 20' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'><path d='M8 2a1 1 0 000 2h2a1 1 0 100-2H8z'></path><path d='M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z'></path></svg>
  </button>
  
  
    
    
      
    
    <a class="button primary" href="/tool-locker/tlk-installer.sh.txt">Source</a>
  
</div>
                

                
              </li>
            
              
              <li data-id="1" data-triple="aarch64-unknown-linux-gnu" class="install-content hidden">
                

                
                  
                  <div class="download-wrapper">
                    <a href="https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-aarch64-unknown-linux-gnu.tar.xz">
                      <button class="button primary">
                        <span>Download</span>
                        <span class="button-subtitle">tlk-aarch64-unknown-linux-gnu.tar.xz</span>
                      </button>
                    </a>
                  </div>
                
              </li>
            
          </ul>
        </li>
      
        <li class="arch hidden" data-arch="x86_64-apple-darwin">
          
            <ul class="tabs">
              
                
                
                <li class="install-tab" data-id="7" data-triple="x86_64-apple-darwin">
                  shell

                  
                </li>
              
                
                
                <li class="install-tab" data-id="2" data-triple="x86_64-apple-darwin">
                  tarball

                  
                </li>
              
            </ul>
          

          <ul class="contents">
            
              
              <li data-id="7" data-triple="x86_64-apple-darwin" class="install-content">
                
                  
                  <div class="install-code-wrapper">
  <pre style="background-color:#263238;">
<span style="color:#82aaff;">curl</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">proto </span><span style="color:#89ddff;">&#39;</span><span style="color:#c3e88d;">=https</span><span style="color:#89ddff;">&#39; --</span><span style="color:#f78c6c;">tlsv1</span><span style="color:#82aaff;">.2</span><span style="color:#89ddff;"> -</span><span style="color:#f78c6c;">LsSf</span><span style="color:#82aaff;"> https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh </span><span style="color:#89ddff;">| </span><span style="color:#82aaff;">sh</span></pre>

  <button class="button copy-clipboard-button primary" data-copy="curl --proto '=https' --tlsv1.2 -LsSf https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh | sh">
    <svg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 20 20' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'><path d='M8 2a1 1 0 000 2h2a1 1 0 100-2H8z'></path><path d='M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z'></path></svg>
  </button>
  
  
    
    
      
    
    <a class="button primary" href="/tool-locker/tlk-installer.sh.txt">Source</a>
  
</div>
                

                
              </li>
            
              
              <li data-id="2" data-triple="x86_64-apple-darwin" class="install-content hidden">
                

                
                  
                  <div class="download-wrapper">
                    <a href="https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-x86_64-apple-darwin.tar.xz">
                      <button class="button primary">
                        <span>Download</span>
                        <span class="button-subtitle">tlk-x86_64-apple-darwin.tar.xz</span>
                      </button>
                    </a>
                  </div>
                
              </li>
            
          </ul>
        </li>
      
        <li class="arch hidden" data-arch="x86_64-pc-windows-msvc">
          
            <ul class="tabs">
              
                
                
                <li class="install-tab" data-id="6" data-triple="x86_64-pc-windows-msvc">
                  powershell

                  
                </li>
              
                
                
                <li class="install-tab" data-id="4" data-triple="x86_64-pc-windows-msvc">
                  msi

                  
                </li>
              
                
                
                <li class="install-tab" data-id="3" data-triple="x86_64-pc-windows-msvc">
                  zip

                  
                </li>
              
            </ul>
          

          <ul class="contents">
            
              
              <li data-id="6" data-triple="x86_64-pc-windows-msvc" class="install-content">
                
                  
                  <div class="install-code-wrapper">
  <pre style="background-color:#263238;">
<span style="color:#82aaff;">powershell</span><span style="color:#89ddff;"> -</span><span style="color:#f78c6c;">c </span><span style="color:#89ddff;">&quot;</span><span style="color:#c3e88d;">irm https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.ps1 | iex</span><span style="color:#89ddff;">&quot;</span></pre>

  <button class="button copy-clipboard-button primary" data-copy="powershell -c "irm https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.ps1 | iex"">
    <svg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 20 20' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'><path d='M8 2a1 1 0 000 2h2a1 1 0 100-2H8z'></path><path d='M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z'></path></svg>
  </button>
  
  
    
    
      
    
    <a class="button primary" href="/tool-locker/tlk-installer.ps1.txt">Source</a>
  
</div>
                

                
              </li>
            
              
              <li data-id="4" data-triple="x86_64-pc-windows-msvc" class="install-content hidden">
                

                
                  
                  <div class="download-wrapper">
                    <a href="https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-x86_64-pc-windows-msvc.msi">
                      <button class="button primary">
                        <span>Download</span>
                        <span class="button-subtitle">tlk-x86_64-pc-windows-msvc.msi</span>
                      </button>
                    </a>
                  </div>
                
              </li>
            
              
              <li data-id="3" data-triple="x86_64-pc-windows-msvc" class="install-content hidden">
                

                
                  
                  <div class="download-wrapper">
                    <a href="https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-x86_64-pc-windows-msvc.zip">
                      <button class="button primary">
                        <span>Download</span>
                        <span class="button-subtitle">tlk-x86_64-pc-windows-msvc.zip</span>
                      </button>
                    </a>
                  </div>
                
              </li>
            
          </ul>
        </li>
      
        <li class="arch hidden" data-arch="x86_64-unknown-linux-gnu">
          
            <ul class="tabs">
              
                
                
                <li class="install-tab" data-id="7" data-triple="x86_64-unknown-linux-gnu">
                  shell

                  
                </li>
              
                
                
                <li class="install-tab" data-id="5" data-triple="x86_64-unknown-linux-gnu">
                  tarball

                  
                </li>
              
            </ul>
          

          <ul class="contents">
            
              
              <li data-id="7" data-triple="x86_64-unknown-linux-gnu" class="install-content">
                
                  
                  <div class="install-code-wrapper">
  <pre style="background-color:#263238;">
<span style="color:#82aaff;">curl</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">proto </span><span style="color:#89ddff;">&#39;</span><span style="color:#c3e88d;">=https</span><span style="color:#89ddff;">&#39; --</span><span style="color:#f78c6c;">tlsv1</span><span style="color:#82aaff;">.2</span><span style="color:#89ddff;"> -</span><span style="color:#f78c6c;">LsSf</span><span style="color:#82aaff;"> https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh </span><span style="color:#89ddff;">| </span><span style="color:#82aaff;">sh</span></pre>

  <button class="button copy-clipboard-button primary" data-copy="curl --proto '=https' --tlsv1.2 -LsSf https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh | sh">
    <svg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 20 20' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'><path d='M8 2a1 1 0 000 2h2a1 1 0 100-2H8z'></path><path d='M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z'></path></svg>
  </button>
  
  
    
    
      
    
    <a class="button primary" href="/tool-locker/tlk-installer.sh.txt">Source</a>
  
</div>
                

                
              </li>
            
              
              <li data-id="5" data-triple="x86_64-unknown-linux-gnu" class="install-content hidden">
                

                
                  
                  <div class="download-wrapper">
                    <a href="https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-x86_64-unknown-linux-gnu.tar.xz">
                      <button class="button primary">
                        <span>Download</span>
                        <span class="button-subtitle">tlk-x86_64-unknown-linux-gnu.tar.xz</span>
                      </button>
                    </a>
                  </div>
                
              </li>
            
          </ul>
        </li>
      
    </ul>
  </div>

  
    <div class="no-autodetect hidden">
      <span class="no-autodetect-details">We weren't able to detect your OS.</span>
    </div>
    <noscript>
      <a href="/tool-locker/artifacts/">View all installation options</a>
    </noscript>
  
  <div class="mac-switch hidden">This project doesn't offer Apple Silicon downloads, but you can run Intel macOS binaries via Rosetta 2.</div>

  
  
  <div class="bottom-options ">
    <a href="/tool-locker/artifacts/" class="backup-download primary">View all installation options</a>
    
      <div class="arch-select hidden">
        <select id="install-arch-select">
          <option disabled="true" selected="true" value=""></option>
          
            <option value="aarch64-unknown-linux-gnu">Linux arm64</option>
          
            <option value="x86_64-unknown-linux-gnu">Linux x64</option>
          
            <option value="aarch64-apple-darwin">macOS Apple Silicon</option>
          
            <option value="x86_64-apple-darwin">macOS Intel</option>
          
            <option value="x86_64-pc-windows-msvc">Windows x64</option>
          
        </select>
      </div>
    
  </div>
</div>

<a href="/tool-locker/artifacts/" class="button mobile-download primary">View all installation options</a>


    <h1>tlk ‚Äì Tool Locker</h1>
<blockquote>
<p>Reproducible, per‚Äërepo installs of infra / DevOps CLI tools (terraform, kubectl, helm, gh, buf, jq, node, pnpm, etc.) without polluting your global PATH.</p>
</blockquote>
<p><code>tlk</code> lets a repository declare the <em>exact</em> external command‚Äëline tools it depends on in a simple <code>tlk.toml</code>. A lock file (<code>tlk.lock</code>) captures resolved versions + source URLs. Teammates (and CI) run <code>tlk install</code> to materialize a private <code>.tlk/bin</code> folder that is auto‚Äëactivated by a lightweight shell hook. No more ‚Äúwhich version of terraform do I need?‚Äù messages.</p>
<p>It‚Äôs like a <code>package.json</code> + lock for the miscellaneous non-language CLIs you need to build/deploy/test‚Ä¶ and nothing else. Bring your own language toolchain manager; <code>tlk</code> focuses on the rest.</p>
<hr>
<h2>Quick Start</h2>
<h3>1. Install or build <code>tlk</code></h3>
<p>Download latest release and add to your path: <a href="https://github.com/codyspate/tool-locker/releases" rel="noopener noreferrer">https://github.com/codyspate/tool-locker/releases</a></p>
<p><strong>Convienience Script</strong></p>
<p>This script also installs a updater <code>tlk-update</code> to update <code>tlk</code> itself.</p>
<pre style="background-color:#263238;"><span style="color:#82aaff;">curl</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">proto </span><span style="color:#89ddff;">'</span><span style="color:#c3e88d;">=https</span><span style="color:#89ddff;">' --</span><span style="color:#f78c6c;">tlsv1</span><span style="color:#82aaff;">.2</span><span style="color:#89ddff;"> -</span><span style="color:#f78c6c;">LsSf</span><span style="color:#82aaff;"> https://github.com/codyspate/tool-locker/releases/download/v0.1.6/tlk-installer.sh </span><span style="color:#89ddff;">| </span><span style="color:#82aaff;">sh
</span><span style="color:#eeffff;">
</span></pre>

<p><strong>Or Build:</strong></p>
<pre style="background-color:#263238;"><span style="color:#82aaff;">git clone https://github.com/codyspate/tool-locker.git
</span><span style="color:#82aaff;">cd tool_locker
</span><span style="color:#82aaff;">cargo build</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">release
</span><span style="color:#82aaff;">./target/release/tlk</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">help
</span></pre>

<h3>2. Install a tool</h3>
<pre style="background-color:#263238;"><span style="color:#82aaff;">tlk install terraform
</span></pre>

<p>Creates <code>.tlk/bin</code> and downloads each tool (parallelized when &gt;1). Writes / updates <code>tlk.lock</code> with exact versions and fully rendered URLs.</p>
<h3>3. Auto‚Äëactivate PATH (optional but nice)</h3>
<pre style="background-color:#263238;"><span style="color:#82aaff;">eval </span><span style="color:#89ddff;">"$(</span><span style="color:#82aaff;">tlk hook</span><span style="color:#89ddff;">)"   </span><span style="font-style:italic;color:#546e7a;"># bash / zsh
</span></pre>

<p>Now when you <code>cd</code> into a directory containing <code>tlk.toml</code>, that repo‚Äôs <code>.tlk/bin</code> is transparently prepended to PATH for the shell session.</p>
<p>Commit both <code>tlk.toml</code> and <code>tlk.lock</code>.</p>
<hr>
<h3>4. Restart shell and use your installed tools</h3>
<pre style="background-color:#263238;"><span style="color:#82aaff;">terraform</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">verison
</span></pre>

<h2>Why (Problems This Solves)</h2>
<table>
<thead>
<tr>
<th>Pain</th>
<th>tlk Answer</th>
</tr>
</thead>
<tbody>
<tr>
<td>Onboarding friction (‚Äúinstall these 7 tools, specific versions‚Äù)</td>
<td>One command after clone: <code>tlk install</code></td>
</tr>
<tr>
<td>Global version drift (Homebrew / chocolatey upgrades behind your back)</td>
<td>Explicit versions/ranges, concretized &amp; locked</td>
</tr>
<tr>
<td>Cross‚Äëplatform URL differences</td>
<td>Normalized <code>{os}</code> / <code>{arch}</code> placeholders; multi‚Äëplatform sources in lock</td>
</tr>
<tr>
<td>‚ÄúWorks on my machine‚Äù infra tooling</td>
<td>Per‚Äërepo sandbox <code>.tlk/bin</code>, not global PATH</td>
</tr>
<tr>
<td>CI reproducibility</td>
<td><code>tlk install --locked</code> guarantees lock fidelity</td>
</tr>
<tr>
<td>Ad‚Äëhoc curl</td>
<td>Manual URLs become declarative entries with optional checksums</td>
</tr>
</tbody>
</table>
<p>Core ideas:</p>
<ol>
<li>Declarative desired tool specs (<code>tlk.toml</code>).</li>
<li>Deterministic resolution -&gt; concrete download URL(s).</li>
<li>Idempotent installer (skips unchanged versions).</li>
<li>Lock file capturing <em>exact</em> resolved version + rendered URL and platform matrix.</li>
<li>Zero global side effects: everything lives under project root (unless you purposely use <code>setup</code>).</li>
</ol>
<hr>
<h2>Configuration Reference (<code>tlk.toml</code>)</h2>
<p>Two syntaxes coexist:</p>
<ol>
<li><strong>Shorthand (for known tools)</strong> ‚Äì single line: <code>terraform = "1.8.5"</code> or ranges like <code>^1.8.0</code> or <code>latest</code>.</li>
<li><strong>Full table (for custom / advanced)</strong> under <code>[tools.&lt;name&gt;]</code> with fields:
<ul>
<li><code>version</code> (string; can be range for known tools, but custom entries should be concrete)</li>
<li><code>source</code> (URL template; supports <code>{version}</code>, <code>{os}</code>, <code>{arch}</code>)</li>
<li><code>kind</code> = <code>archive</code> | <code>direct</code> (defaults to archive)</li>
<li><code>binary</code> (path inside archive; omitted for direct downloads or auto‚Äëdetected for some known tools)</li>
<li><code>sha256</code> (optional explicit checksum of the archive / binary)</li>
<li><code>per_os</code> and <code>per_os_arch</code> override maps for differing naming conventions (see code for full shape)</li>
</ul>
</li>
</ol>
<p>Placeholders:</p>
<table>
<thead>
<tr>
<th>Token</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{os}</code></td>
<td>linux, darwin, windows</td>
</tr>
<tr>
<td><code>{arch}</code></td>
<td>amd64, arm64</td>
</tr>
<tr>
<td><code>{version}</code></td>
<td>The resolved <em>exact</em> version</td>
</tr>
</tbody>
</table>
<p>If you provide both generic <code>source</code> and more specific <code>per_os</code> / <code>per_os_arch</code>, specificity wins (per‚ÄëOS+arch &gt; per‚ÄëOS &gt; generic).</p>
<p>Legacy <code>[[tools]]</code> array form is still accepted; run <code>tlk migrate-config</code> to upgrade to the <code>[tools.&lt;name&gt;]</code> style.</p>
<hr>
<h2>Supported Shorthand Tools (built‚Äëin recipes)</h2>
<p><code>terraform</code>, <code>kubectl</code>, <code>helm</code>, <code>gh</code>, <code>buf</code>, <code>node</code>, <code>pnpm</code>, <code>yarn</code>, <code>just</code>, <code>jq</code>, <code>cosign</code>, <code>age</code>, <code>moon</code>.</p>
<p>Each has logic for platform naming quirks (e.g. node‚Äôs x64 vs amd64) and implicit <code>binary</code> paths when they aren‚Äôt at archive root.</p>
<hr>
<h2>Commands Cheat Sheet</h2>
<table>
<thead>
<tr>
<th>Command</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tlk install</code></td>
<td>Install or update all declared tools (writes/updates lock unless <code>--no-lock</code>)</td>
</tr>
<tr>
<td><code>tlk install terraform@1.7.5 helm@latest</code></td>
<td>Ad‚Äëhoc install of specific known tool specs (bypasses <code>tlk.toml</code> entries for those)</td>
</tr>
<tr>
<td><code>tlk install --locked</code></td>
<td>Reinstall exactly what‚Äôs in <code>tlk.lock</code> (no writes)</td>
</tr>
<tr>
<td><code>tlk plan</code></td>
<td>Dry run: show planned names, versions, base URLs/templates</td>
</tr>
<tr>
<td><code>tlk list</code></td>
<td>Show desired vs installed versions (parse <code>--version</code> output)</td>
</tr>
<tr>
<td><code>tlk verify</code></td>
<td>Validate <code>tlk.lock</code> vs config + binaries (digest / checksum)</td>
</tr>
<tr>
<td><code>tlk uninstall &lt;name&gt;</code></td>
<td>Remove tool + config + lock entry</td>
</tr>
<tr>
<td><code>tlk hook</code></td>
<td>Emit shell hook (eval it)</td>
</tr>
<tr>
<td><code>tlk setup</code></td>
<td>One‚Äëtime create a global <code>~/.tlk/bin</code> (future use)</td>
</tr>
<tr>
<td><code>tlk migrate-lock</code></td>
<td>Regenerate lock at latest schema &amp; platform matrix</td>
</tr>
<tr>
<td><code>tlk migrate-config</code></td>
<td>Rewrite legacy <code>[[tools]]</code> syntax to new table style</td>
</tr>
<tr>
<td><code>tlk diagnose --kind missing-platforms</code></td>
<td>Spot tools lacking multi‚Äëplatform entries in lock</td>
</tr>
</tbody>
</table>
<p>Useful flags:</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--no-lock</code></td>
<td>Skip creating/updating <code>tlk.lock</code> on install</td>
</tr>
<tr>
<td><code>--locked</code></td>
<td>Disallow resolution; only use already locked entries</td>
</tr>
<tr>
<td><code>--no-verify</code></td>
<td>Skip pre‚Äëinstall verification (speed vs safety)</td>
</tr>
<tr>
<td><code>--exact</code></td>
<td>When installing specs, store exact instead of caret range</td>
</tr>
</tbody>
</table>
<hr>
<h2>Version Specs &amp; Resolution</h2>
<p>For shorthand known tools you may supply:</p>
<ul>
<li>Exact semver: <code>1.2.3</code></li>
<li>Caret / tilde: <code>^1.2.3</code>, <code>~1.2.0</code></li>
<li>Partial / wildcard: <code>1.2.x</code>, <code>1.x</code>, <code>^1</code></li>
<li><code>latest</code></li>
<li>Complex OR / hyphen ranges (limited support): <code>1.2.x || 1.3.x</code>, <code>1.2.0 - 1.4.5</code></li>
</ul>
<p>Canonicalization logic rewrites what‚Äôs stored back into config (when adding via specs) so teammates see the intended constraint (e.g. <code>1.2.3</code> becomes <code>^1.2.3</code> unless <code>--exact</code> used). The lock file always records the concrete chosen version.</p>
<p>Custom <code>[tools.&lt;name&gt;]</code> entries should generally provide exact versions (range satisfaction for arbitrary URLs is not yet implemented).</p>
<hr>
<h2>The Lock File (<code>tlk.lock</code>)</h2>
<p>Schema (v3) stores for each tool:</p>
<ul>
<li><code>version</code> ‚Äì resolved exact version</li>
<li><code>requested_version</code> ‚Äì original range / spec (if different)</li>
<li><code>source</code> ‚Äì concrete URL used for the current platform</li>
<li><code>source_template</code> ‚Äì the template (with placeholders)</li>
<li><code>sources</code> ‚Äì matrix of rendered platform URLs when placeholders are present (linux/darwin/windows √ó amd64/arm64)</li>
<li><code>sha256</code> ‚Äì optional checksum copied from config</li>
<li><code>digest</code> ‚Äì SHA256 of the installed binary (post‚Äëextraction)</li>
</ul>
<p><code>tlk verify</code> re-renders expected URLs and compares digests &amp; checksums so CI can catch drift or tampering. Use <code>tlk install --locked</code> to fail fast if config references versions not present in the lock.</p>
<hr>
<h2>Shell Integration</h2>
<p>Two patterns:</p>
<ol>
<li>Ephemeral PATH adjustment after install (<code>tlk</code> attempts to prepend <code>.tlk/bin</code> to its own process PATH for immediate use).</li>
<li>Persistent dynamic hook (<code>eval "$(tlk hook)"</code>) that tracks <code>cd</code> events and toggles PATH accordingly. Remove it =&gt; no global pollution.</li>
</ol>
<p>Fish / PowerShell variants available via <code>--shell</code>.</p>
<hr>
<h2>Typical Workflows</h2>
<p>Add a new known tool at latest:</p>
<pre style="background-color:#263238;"><span style="color:#82aaff;">tlk install just@latest</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">no-lock   </span><span style="font-style:italic;color:#546e7a;"># fetch latest
</span><span style="color:#82aaff;">tlk install</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">no-verify             </span><span style="font-style:italic;color:#546e7a;"># install others if needed
</span><span style="color:#82aaff;">tlk install</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">locked </span><span style="color:#89ddff;">|| </span><span style="color:#82aaff;">tlk install </span><span style="font-style:italic;color:#546e7a;"># then lock (or simply rerun without --no-lock)
</span></pre>

<p>Update a range (<code>^1.8.5</code>) to absorb new patch/minor:</p>
<pre style="background-color:#263238;"><span style="color:#82aaff;">tlk install                         </span><span style="font-style:italic;color:#546e7a;"># will fetch newer if within range
</span></pre>

<p>Pin an exact version for reproducibility audit:</p>
<pre style="background-color:#263238;"><span style="color:#82aaff;">tlk install terraform@1.8.7</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">exact
</span></pre>

<p>Uninstall a tool:</p>
<pre style="background-color:#263238;"><span style="color:#82aaff;">tlk uninstall jq
</span></pre>

<p>Verify before commit / in CI:</p>
<pre style="background-color:#263238;"><span style="color:#82aaff;">tlk verify </span><span style="color:#89ddff;">&amp;&amp; </span><span style="color:#82aaff;">tlk install</span><span style="color:#89ddff;"> --</span><span style="color:#f78c6c;">locked
</span></pre>

<hr>
<h2>Comparison &amp; Tradeoffs</h2>
<table>
<thead>
<tr>
<th>Tool / Approach</th>
<th>Where tlk fits</th>
</tr>
</thead>
<tbody>
<tr>
<td>asdf / mise</td>
<td>Those manage language runtimes (and via plugins, other tools). <code>tlk</code> is zero‚Äëplugin, fast, file‚Äëdriven; simpler surface, fewer moving parts.</td>
</tr>
<tr>
<td>Homebrew / apt / choco</td>
<td>System package managers; mutate global state; slower upgrades; no per‚Äërepo isolation. Pair nicely: use them only for <code>tlk</code> binary itself.</td>
</tr>
<tr>
<td>Nix / Devbox</td>
<td>Extremely reproducible; steeper learning curve and larger conceptual surface. <code>tlk</code> is intentionally narrow / lightweight.</td>
</tr>
<tr>
<td>Docker images</td>
<td>Great for hermetic builds but slower for local iterative CLIs; <code>tlk</code> keeps native performance.</td>
</tr>
</tbody>
</table>
<p>Tradeoffs / current limitations:</p>
<ul>
<li>Limited ‚Äúlatest version listing‚Äù support (only for subset of known tools: terraform, helm, gh, buf, kubectl).</li>
<li>No automatic checksum lookups (you must provide <code>sha256</code> manually if you want strict verification beyond digest of downloaded artifact).</li>
<li>Range semantics best‚Äëeffort; extremely complex compound ranges may resolve unexpectedly.</li>
<li>Not a general artifact cache / mirror (no offline mode yet).</li>
<li>Windows support is present but less battle‚Äëtested than Linux/macOS.</li>
</ul>
<hr>
<h2>Security &amp; Integrity</h2>
<p><code>sha256</code> (config) vs <code>digest</code> (lock) ‚Äì The former is a <em>known good</em> provided by you (or upstream release notes). The latter is the hash of what was actually installed. Add <code>sha256</code> for critical tools to catch supply chain tampering at download time; <code>digest</code> then confirms the stored binary hasn‚Äôt changed since locking.</p>
<p>Recommendations:</p>
<ol>
<li>For security‚Äësensitive binaries (e.g. <code>cosign</code>), copy upstream published SHA256 and add to your entry.</li>
<li>Run <code>tlk verify</code> in CI.</li>
<li>Consider commit signing of lock file changes in high‚Äëassurance environments.</li>
</ol>
<p>Future ideas: automated checksum retrieval, optional signature verification (e.g., cosign attestations), offline cache.</p>
<hr>
<h2>Architecture (High Level)</h2>
<p>Rust workspace with a single <code>cli</code> crate. Core modules:</p>
<ul>
<li><code>config.rs</code> ‚Äì Parse <code>tlk.toml</code>, merging shorthand and custom entries; supports legacy repair.</li>
<li><code>known_tools.rs</code> ‚Äì Catalog of built‚Äëin tool recipes (templated or custom URL generators) + platform detection.</li>
<li><code>installer.rs</code> ‚Äì Parallel download &amp; extraction, verification, digesting, path refresh.</li>
<li><code>lock.rs</code> ‚Äì v3 lock file schema + legacy upgrade.</li>
<li><code>versioning.rs</code> ‚Äì Fetch &amp; cache version lists (GitHub / HashiCorp scraping) for ‚Äúlatest‚Äù &amp; range resolution.</li>
<li><code>command_handlers/*</code> ‚Äì Thin orchestration for each subcommand (install, migrate, diagnose, etc.).</li>
<li><code>platform/*</code> ‚Äì OS abstractions (permissions, naming, windows vs unix differences).</li>
</ul>
<p>Install flow summary:</p>
<pre style="background-color:#263238;"><span style="color:#eeffff;">tlk.toml -&gt; parse -&gt; Tool structs -&gt; (verify lock) -&gt; parallel fetch -&gt; extract -&gt; compute digest -&gt; write/update lock
</span></pre>

<hr>
<h2>Roadmap / Ideas</h2>
<ul>
<li>Offline / local cache (avoid re-downloading unchanged archives across repos).</li>
<li>Checksum auto‚Äëdiscovery &amp; signature verification.</li>
<li>Optional global registry of ‚Äúrecipes‚Äù discoverable from config.</li>
<li>Richer <code>plan</code> diff (what‚Äôs changing &amp; why).</li>
<li>JSON output for machine integration (<code>--format json</code>).</li>
<li>Built‚Äëin update helper (bump locked versions satisfying ranges).</li>
<li>More known tools (PRs welcome ‚Äì keep curated, low maintenance).</li>
</ul>
<hr>
<h2>Contributing</h2>
<ol>
<li>Open an issue describing the change / addition.</li>
<li>Keep PRs focused; include rationale in the description.</li>
<li>Update this README for user‚Äëvisible changes.</li>
<li>Add or adjust tests (when they‚Äôre introduced) for lock / install logic.</li>
</ol>
<p>Feeling adventurous? Prototype a feature behind a hidden flag and open a discussion.</p>
<hr>
<h2>License</h2>
<p>Dual licensed under either of</p>
<ul>
<li>MIT license</li>
<li>Apache License, Version 2.0</li>
</ul>
<p>at your option.</p>
<hr>
<p>Happy locking! üîê</p>



        </main>
      </div>

      <footer>
        
          <a href="https://github.com/codyspate/tool-locker"><div class="github-icon" aria-hidden="true"></div></a>
        
        <span>
          tlk
        </span>
      </footer>
    </div>

    
    

    

    <script src="/tool-locker/artifacts.js"></script>


  </body>
</html>